import{r as n,u as m,b,h as d,j as e,m as x,x as f,c as p,d as w}from"./index-BjUV0rAk.js";const j=({className:t})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[e.jsx("path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 9 7c0 1.3.5 2.6 1.5 3.5.7.8 1.3 1.5 1.5 2.5"}),e.jsx("path",{d:"M9 18h6"}),e.jsx("path",{d:"M10 22h4"})]});function v(){const[t,l]=n.useState(""),[u,c]=n.useState(!1),{showNotification:s}=m(),i=b(),[a,g]=n.useState(d.currentUser);n.useEffect(()=>d.onAuthStateChanged(o=>{o?g(o):(s("You must be logged in to make a suggestion.","info"),i("/student-login"))}),[i,s]);const h=async r=>{if(r.preventDefault(),t.trim().length<10){s("Please provide a more detailed suggestion (at least 10 characters).","error");return}c(!0);try{await f(p(w,"suggestions"),{text:t,submittedAt:new Date,userId:a.uid,userPhone:a.phoneNumber}),s("Thank you! Your suggestion has been submitted.","success"),l(""),i("/student-home")}catch(o){console.error("Error submitting suggestion:",o),s("Failed to submit suggestion.","error")}finally{c(!1)}};return a?e.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:e.jsxs(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-lg p-8 space-y-8 bg-slate-800/50 border border-slate-700 rounded-2xl shadow-2xl shadow-purple-900/20",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(j,{className:"mx-auto h-12 w-12 text-yellow-400"}),e.jsx("h2",{className:"mt-4 text-3xl font-bold text-white",children:"Suggest a Course or Feature"}),e.jsx("p",{className:"mt-2 text-slate-400",children:"We value your feedback! What would you like to see next?"})]}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"suggestion",className:"block text-sm font-medium text-slate-300 mb-1 sr-only",children:"Your Suggestion"}),e.jsx("textarea",{id:"suggestion",value:t,onChange:r=>l(r.target.value),placeholder:"Describe your idea for a new course or an improvement...",className:"mt-1 w-full h-32 p-3 bg-slate-700/50 border-2 border-slate-600 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500 transition text-white",required:!0})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:u,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-lg text-lg font-semibold text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-purple-500 disabled:bg-slate-600 disabled:cursor-not-allowed transition-all transform",children:u?"Submitting...":"Submit Suggestion"})})]})]})}):e.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center text-white",children:"Redirecting to login..."})}export{v as default};
