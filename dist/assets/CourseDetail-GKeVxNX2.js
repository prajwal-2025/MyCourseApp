import{c as x,r as c,b as g,u as p,j as e}from"./index-DGNH6TTz.js";import{b,d as j,e as f}from"./firebase-DP6Zpsn6.js";import{B as N}from"./book-open-EhZlinlK.js";import{C as y}from"./circle-check-big-D6xJepLW.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],k=x("clock",v);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],C=x("user",w),z=()=>{var d;const[s,m]=c.useState(null),[h,i]=c.useState(!0),{id:r}=g(),n=p();c.useEffect(()=>{(async()=>{if(!r){i(!1);return}try{const t=b(j,"courses",r),l=await f(t);l.exists()?m({id:l.id,...l.data()}):console.log("No such document!")}catch(t){console.error("Error fetching course: ",t)}finally{i(!1)}})()},[r]);const u=()=>{const a=sessionStorage.getItem("student"),t=s.id==="bundle"?"/register-bundle":`/register/${r}`;a?n(t):(sessionStorage.setItem("redirectUrl",t),n("/student-login"))};if(h)return e.jsx("div",{className:"flex justify-center items-center min-h-[80vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-purple-500"})});if(!s)return e.jsx("div",{className:"text-center py-20 text-xl text-gray-600",children:"Course not found."});const o=s.basePrice&&s.earlyBirdPrice?Math.round((s.basePrice-s.earlyBirdPrice)/s.basePrice*100):0;return e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"bg-slate-900 text-white py-12 sm:py-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tight",children:s.name}),e.jsxs("div",{className:"flex items-center mt-4 text-lg text-slate-300",children:[e.jsx(C,{size:20,className:"mr-2"}),e.jsxs("span",{children:["Taught by ",s.instructor]})]})]})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-12",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("img",{src:s.thumbnail,alt:s.name,className:"w-full rounded-lg shadow-2xl mb-8 aspect-video object-cover"}),e.jsxs("div",{className:"space-y-10",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-800 mb-4 flex items-center gap-3",children:[e.jsx(N,{size:28})," About This Course"]}),e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:s.description})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"What You'll Learn"}),e.jsx("ul",{className:"space-y-3",children:(d=s.highlights)==null?void 0:d.map((a,t)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(y,{className:"text-green-500 mt-1 mr-3 flex-shrink-0",size:20}),e.jsx("span",{className:"text-gray-700",children:a})]},t))})]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg shadow-lg p-6 sticky top-28",children:[e.jsx("h3",{className:"text-2xl font-bold text-center mb-4 text-slate-800",children:"Enroll Now"}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("span",{className:"text-4xl font-bold text-purple-600",children:["₹",s.earlyBirdPrice]}),e.jsxs("span",{className:"text-xl text-slate-500 line-through ml-2",children:["₹",s.basePrice]})]}),o>0&&e.jsxs("div",{className:"text-center text-green-700 font-semibold mb-4 bg-green-100 py-2 rounded-md",children:["You save ",o,"% with the early bird price!"]}),e.jsx("button",{onClick:u,className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105",children:"Register Now"}),e.jsxs("div",{className:"text-center mt-4 text-sm text-slate-500 flex items-center justify-center",children:[e.jsx(k,{size:16,className:"mr-1.5"}),e.jsxs("span",{children:[s.earlyBirdSlots," early bird slots remaining!"]})]})]})})]})})]})};export{z as default};
